<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">
        <title>132 Analyst Dashboard</title>
        <!-- Bootstrap Core CSS -->
        <link href="../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
        
        <!-- Timeline CSS -->
        <link href="../dist/css/timeline.css" rel="stylesheet">
        <!-- Custom CSS -->
        <link href="../dist/css/sb-admin-2.css" rel="stylesheet">
        <link href="../dist/css/stylesheet.css" rel="stylesheet">
        <!-- D3 Heatmap CSS -->
        <link href="../dist/css/style-heatmap.css" rel="stylesheet">
        <!-- Background CSS -->
        <link href="../styles.css" rel="stylesheet">
        
        <!-- Custom Fonts -->
        <link href="../bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
        
        <!-- jQuery -->
        <script src="../bower_components/jquery/dist/jquery.min.js"></script>
        <!-- Bootstrap Core JavaScript -->
        <script src="../bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
        
        
        <!-- Form validation javascript -->
        <script src="../js/validator.js"></script>    
        <!-- Custom Theme JavaScript -->
        <script src="../dist/js/sb-admin-2.js"></script>
        <script src="../js/script.js"></script>
        <!-- D3 -->
        <!-- // <script src="www.d3js.org/d3.v3.min.js"></script> -->
        <script src="../d3/d3.min.js"></script>
        <!-- JQuery -->
        <script src="../js/jquery-1.11.3.min.js"></script>
        <!-- JCanvas -->
        <script src='../js/jcanvas.min.js'></script>
        <script language="javascript">
            function checkAD(){
                if(document.aggregate_data.Stream.value==""){
                    alert("Please select a Data Stream."); 
                    document.aggregate_data.Stream.focus();
                    return false;
                    }
                if(document.aggregate_data.optradio.value==""){
                    alert("Please select an operator."); 
                    document.aggregate_data.optradio.focus();
                    return false;
                }
                if(document.aggregate_data.mode.checked==true){
                    if(document.aggregate_data.mode_min.value==""){
                        alert("Please enter a Min."); 
                        document.aggregate_data.mode_min.focus();
                        return false;
                    }
                    if(document.aggregate_data.mode_max.value==""){
                        alert("Please enter a Max."); 
                        document.aggregate_data.mode_max.focus();
                        return false;
                    }
            
                }
                return true;
            }
        </script>
    </head>
    <body>
        <div id="wrapper">
            <!-- Navigation -->
            <nav class="navbar navbar-default" role="navigation" style="margin: 0 auto">
                <div class="navbar-header col-md-5">
                    <!-- Unnecessary?
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    </button> -->
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-default" data-toggle="modal" data-target="#importModal">Import Data Stream</button>
                        <button type="button" class="btn btn-default"><a href="#" download="Untitled.pdf" id="exp">Export Module</a></button>
                    </div>
                </div>
                <div class="navbar-header col-md-6">
                    <input class="nav" type="text" id="inputTitle" placeholder="Untitled" style="width:40%; text-align: center">
                </div>
                <div class="navbar-header col-md-1" style="left:0px">
                    <ul class="nav navbar-top-links">
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            <i class="fa fa-user fa-fw"></i><i class="fa fa-caret-down"></i>
                            </a>
                            <ul class="dropdown-menu dropdown-user">
                                <li><a href="#"><i class="fa fa-user fa-fw"></i> User Profile</a>
                                </li>
                                <li><a href="#"><i class="fa fa-gear fa-fw"></i> Settings</a>
                                </li>
                                <li class="divider"></li>
                                <li><a href="login.html"><i class="fa fa-sign-out fa-fw"></i> Logout</a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <!-- /.dropdown-user settings-->
                
            </nav>
        </div>
        <div class="modal fade" id="importModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">Import Data Stream</h4>
                    </div>
                    <div class="modal-body">
                        <p>Choose a category</p>
                        <p>Life Events</p>
                        <div class="select">
                            <select class="form-control" id="lifeEvents" style="margin-bottom:20px">
                                <option></option>
                                <option>Life Events Stream 1</option>
                                <option>Life Events Stream 2</option>
                                <option>Life Events Stream 3</option>
                                <option>Life Events Stream 4</option>
                            </select>
                        </div>
                        <p>Environmental</p>
                        <div class="select">
                            <select class="form-control" id="environmental" style="margin-bottom:20px">
                                <option></option>
                                <option>Environmental Stream 1</option>
                                <option>Environmental Stream 2</option>
                                <option>Environmental Stream 3</option>
                                <option>Environmental Stream 4</option>
                            </select>
                        </div>
                        <p>Traffic</p>
                        <div class="select">
                            <select class="form-control" id="traffic" style="margin-bottom:20px">
                                <option></option>
                                <option>Traffic Stream 1</option>
                                <option>Traffic Stream 2</option>
                                <option>Traffic Stream 3</option>
                                <option>Traffic Stream 4</option>
                            </select>
                        </div>
                        <p>Social Media</p>
                        <div class="select">
                            <select class="form-control" id="socialMedia">
                                <option></option>
                                <option>Social Media Stream 1</option>
                                <option>Social Media Stream 2</option>
                                <option>Social Media Stream 3</option>
                                <option>Social Media Stream 4</option>
                            </select>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal" id="importClose">Close</button>
                        <button type="button" class="btn btn-primary" onClick="validateImportData(); loadDataStreams();">Process</button>                  
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>
        <!-- /.modal -->
        <!-- <div id="page-wrapper"> -->
        <div class="row" style="height:175px;">
            <div class="col-xs-9">
                <!-- /.row -->
                <div class="row">
                    <ul class="nav nav-tabs nav-justified" id="bookmarks" style="height:100%;">
                        <li class="active"><a href="#processing" data-toggle="tab">Processors</a></li>
                        <li><a href="#visualization" data-toggle="tab">Visualizers</a></li>
                        <div class="tab-content">
                            <div id="processing" class="tab-pane active">
                                <div class="row" style="background-color:#C8EDFF">
                                    <div class="col-xs-2 col-md-offset-1">
                                        <button type="button" title="Filter" class="icon_button" data-toggle="modal" data-target="#filterModal" id="filterButton">
                                        <a href="#"><img src="../img/filter.png" class="icons"></a>
                                        </button>
                                    </div>
                                    <!-- Modal that opens up when the user clicks on the filter button-->
                                    <div class="modal fade" id="filterModal">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                                    <h4 class="modal-title">Filter Data</h4>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row form-group" id="filterDataStreamDiv">
                                                        <p class="col-xs-4">Data Stream</p>
                                                        <select class="col-xs-3" id="filterDataStream">
                                                            <option></option>
                                                        </select>
                                                    </div>
                                                    <div class="checkbox">
                                                        <label>
                                                        <input type="checkbox" id="filterValue" data-error="Must Select Value">
                                                        Value
                                                        </label>
                                                        <div class="help-block with-errors"></div>
                                                    </div>
                                                    <div class="col-md-offset-1">
                                                        <label for="inputName" class="control-label">Min<input type="text" class="form-control" id="inputFilterValueMin" placeholder="0" required></label>
                                                        <label for="inputName" class="control-label">Max<input type="text" class="form-control" id="inputFilterValueMax" placeholder="100" required></label>
                                                    </div>
                                                    <div class="checkbox">
                                                        <label>
                                                        <input type="checkbox" id="filterNorm" data-error="Must Select Normalization Mode" required>
                                                        Normalization Mode
                                                        </label>
                                                        <div class="help-block with-errors"></div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="radio col-xs-offset-1">
                                                            <label style="margin-right:100px;"><input type="radio" name="optradio">True</label>
                                                            <label><input type="radio" name="optradio">False</label>
                                                        </div>
                                                    </div>
                                                    <div class="checkbox">
                                                        <label>
                                                        <input type="checkbox" id="filterLocation" data-error="Must Select Location" required>
                                                        Location
                                                        </label>
                                                        <div class="help-block with-errors"></div>
                                                    </div>
                                                    <div class="col-md-offset-1">
                                                        <label for="inputName" class="control-label">NorthEast Longitude<input type="text" class="form-control" id="inputFilterNELong" placeholder="0" required></label>
                                                        <label for="inputName" class="control-label">NorthEast Latitude<input type="text" class="form-control" id="inputFilterNELat" placeholder="100" required></label>
                                                        <label for="inputName" class="control-label">SouthWest Longitude<input type="text" class="form-control" id="inputFilterSWLong" placeholder="0" required></label>
                                                        <label for="inputName" class="control-label">SouthWest Latitude<input type="text" class="form-control" id="inputFilterSWLat" placeholder="100" required></label>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal" id="filterClose">Close</button>
                                                    <button type="button" class="btn btn-primary"
                                                        onClick="validateFilterInput(); processFilter();">Process</button>
                                                </div>
                                            </div>
                                            <!-- /.modal-content -->
                                        </div>
                                        <!-- /.modal-dialog -->
                                    </div>
                                    <!-- /.modal -->
                                    <div class="col-xs-2">
                                        <button type="button" title="Group Data"  class="icon_button" data-toggle="modal" data-target="#groupModal">
                                        <a href="#"><img src="../img/pie_chart.png" class="icons"></a>
                                        </button>
                                    </div>
                                    <!-- Modal that opens up when the user clicks on the grouping icon-->
                                    <div class="modal fade" id="groupModal">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                                    <h4 class="modal-title">Group Data</h4>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row">
                                                        <p class="col-xs-4">Data Stream</p>
                                                        <select class="col-xs-3" id="groupDataStream">
                                                            <option></option>
                                                        </select>
                                                    </div>
                                                    <div class="row">
                                                        <p class="col-xs-4">Number of Groups</p>
                                                        <select class="col-xs-2" name="#">
                                                            <option value="default">1</option>
                                                            <option value="choice1">2</option>
                                                            <option value="choice2">3</option>
                                                            <option value="choice3">4</option>
                                                            <option value="choice4">5</option>
                                                            <option value="choice5">6</option>
                                                            <option value="choice6">7</option>
                                                            <option value="choice7">8</option>
                                                            <option value="choice8">9</option>
                                                            <option value="choice9">10</option>
                                                        </select>
                                                    </div>
                                                    <div class="row">
                                                        <p class="col-xs-4">Method:</p>
                                                        <div class="radio col-xs-offset-1">
                                                            <label style="margin-right:100px;"><input type="radio" name="optradio">Threshold</label>
                                                            <label><input type="radio" name="optradio">K-mean</label>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <p class="col-md-12">Filter by price interval: <b>$ 10</b> <input id="ex2" type="text" class="span2" value="" data-slider-min="10" data-slider-max="1000" data-slider-step="5" data-slider-value="[250,450]"/> <b>$ 1000</b></p>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                                    <button type="button" class="btn btn-primary">Process</button>
                                                </div>
                                            </div>
                                            <!-- /.modal-content -->
                                        </div>
                                        <!-- /.modal-dialog -->
                                    </div>
                                    <!-- /.modal -->
                                    <div class="col-xs-2">
                                        <button type="button" title="Aggregate Data" class="icon_button" data-toggle="modal" data-target="#aggregateModal">
                                            <a href="#"><img src="../img/sigma.png" class="icons"></a>
                                        </button>
                                    </div>
                                    <!-- Modal that opens up when the user clicks on the aggregate button-->
                                    <div class="modal fade" id="aggregateModal">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                                    <h4 class="modal-title">Aggregate Data</h4>
                                                </div>
                                                <div class="modal-body col-md-12">
                                                    <form name="aggregate_data" method="get" onSubmit="return checkAD();">
                                                        <div class="row form-group">
                                                            <p class="col-xs-4">Data Stream</p>
                                                            <select class="col-xs-3" id="aggregateDataStream">
                                                                <option></option>
                                                            </select>
                                                        </div>
                                                        <button type="button" class="btn btn-default"><i class="glyphicon glyphicon-plus">DataStream</i></button>
                                                        <p>Aggregation Operators</p>
                                                        <div class="radio col-md-offset-1">
                                                            <TABLE border="0">
                                                                <tr>
                                                                    <td><label class="groupRadio"><input type="radio" name="optradio" value="sum">Sum</label></td>
                                                                    <td><label class="groupRadio"><input type="radio" name="optradio" value="average">Average</label></td>
                                                                    <td><label class="groupRadio"><input type="radio" name="optradio" value="min">Minimum</label></td>
                                                                    <td><label class="groupRadio"><input type="radio" name="optradio" value="max">Maximum</label></td>
                                                                    <td><label class="groupRadio"><input type="radio" name="optradio" value="or">Or</label></td>
                                                                </tr>
                                                                <tr>
                                                                    <td><label class="groupRadio"><input type="radio" name="optradio" value="con">Convolution</label></td>
                                                                    <td><label class="groupRadio"><input type="radio" name="optradio" value="and">And</label></td>
                                                                    <td><label class="groupRadio"><input type="radio" name="optradio" value="not">Not</label></td>
                                                                    <td><label class="groupRadio"><input type="radio" name="optradio" value="sub">Subtraction</label></td>
                                                                    <td><label class="groupRadio"><input type="radio" name="optradio" value="mul">Multiply</label></td>
                                                                    <td><label class="groupRadio"><input type="radio" name="optradio" value="div">Division</label></td>
                                                                </tr>
                                                            </TABLE>
                                                        </div>
                                                        <label>
                                                        <input type="checkbox" name="mode"> Normalization Mode
                                                        </label>
                                                        <div class="form-group col-md-offset-1">
                                                            <label>Minimum<input type="text" class="form-control" id="exampleInputEmail1" name="mode_min" placeholder="0"></label>
                                                            <label>Maximum<input type="text" class="form-control" id="exampleInputEmail1" name="mode_max" placeholder="100"></label>
                                                        </div>
                                                </div>
                                                <div class="modal-footer">
                                                <input type="button" value = "Close" class="btn btn-default" data-dismiss="modal">
                                                <input type="submit" value="Process" class="btn btn-primary">
                                                </div>
                                                </form>
                                            </div>
                                            <!-- /.modal-content -->
                                        </div>
                                        <!-- /.modal-dialog -->
                                    </div>
                                    <div class="col-xs-2">
                                        <button type="button" title="2 Dimensional Data"  class="icon_button" data-toggle="modal" data-target="#2DModal">
                                        <a href="#"><img src="../img/2d.png" class="icons"></a>
                                        </button>
                                    </div>
                                    <div class="modal fade" id="2DModal">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                                    <h4 class="modal-title">2D Co-occurence</h4>
                                                </div>
                                                <div class="modal-body">
                                                    <div class="row form-group" id="2DdataStreamDiv1">
                                                        <p class="col-xs-4">Data Stream</p>
                                                        <select class="col-xs-3" name="2dStream1" id="2dCoDataStream1">
                                                            <option value="default">es1</option>
                                                        </select>
                                                    </div>
                                                    <div class="row form-group" id="2DdataStreamDiv2">
                                                        <p class="col-xs-4">Data Stream</p>
                                                        <select class="col-xs-3" name="2dStream2" id="2dCoDataStream2">
                                                            <option value="default">es2</option>
                                                        </select>
                                                    </div>
                                                    <p>Time Lag:</p>
                                                    <div class="row">
                                                        <div class="row form-group">
                                                            <p class="col-md-offset-1 col-xs-3">Unit</p>
                                                            <select class="col-xs-3" name="Unit" id="timeLagUnit">
                                                                <option value="default">second</option>
                                                                <option value="choice1">minute</option>
                                                                <option value="choice2">hour</option>
                                                                <option value="choice3">day</option>
                                                            </select>
                                                        </div>
                                                        <div class="col-md-offset-1 form-group" style="display:inline-block">
                                                            <label for="inputNumber" class="control-label" style="margin-top:5px;">Value<input type="text" class="form-control" size="25" id="timeLagValue" placeholder="Enter Value" required>
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal" id="2DClose">Close</button>
                                                    <button type="button" class="btn btn-primary" onClick="validate2DInput()">Process</button>
                                                </div>
                                            </div>
                                            <!-- /.modal-content -->
                                        </div>
                                        <!-- /.modal-dialog -->
                                    </div>
                                    <!-- /.modal -->

                                    <!-- Ricky 3D Occurence Icon-->                         
                                    <div class="col-xs-2">
                                        <button type="button" title="3 Dimensional Data" class="icon_button" data-toggle="modal" data-target="#3dOccur">
                                        <a href="#"><img src="../img/3d.png" class="icons"></a>
                                        </button>
                                    </div>
                                    <!-- Modal that opens up when the user clicks on the 3D Occurence button-->
                                    <div class="modal fade" id="3dOccur">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                                    <h4 class="modal-title">3D Co-occurence</h4>
                                                </div>
                                                <div class="modal-body col-md-12">
                                                    <p>Data Streams:</p>
                                                    <div>
                                                        <label>Stream 1:</label>
                                                        <select id="3dStreams1" name="Stream 1" style="margin-right: 25px; width: 100px;">
                                                            <option>es1</option>
                                                        </select>
                                                        <label>Stream 2:</label>
                                                        <select id="3dStreams2" name="Stream 2" style="margin-right: 25px; width: 100px;">
                                                            <option>es2</option>
                                                        </select>
                                                        <label>Stream 3:</label>                                            
                                                        <select id="3dStreams3" name="Stream 3" style="width: 100px;">
                                                            <option>es3</option>
                                                        </select>
                                                    </div>
                                                    <p/>
                                                    <p>
                                                        Time Lag 1: 
                                                        Value
                                                        <input id="value1" type="text" size="25" value="">
                                                        Unit
                                                        <select name="unit_value1">
                                                            <option value="default">second</option>
                                                            <option value="choice1">minute</option>
                                                            <option value="choice2">hour</option>
                                                            <option value="choice3">day</option>
                                                        </select>
                                                    </p>
                                                    <p>
                                                        Time Lag 2: 
                                                        Value
                                                        <input id="value2" type="text" size="25" value="">
                                                        Unit
                                                        <select name="unit_value2">
                                                            <option value="default">second</option>
                                                            <option value="choice1">minute</option>
                                                            <option value="choice2">hour</option>
                                                            <option value="choice3">day</option>
                                                        </select>
                                                    </p>
                                                </div>
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal" id="3DClose">Close</button>
                                                    <button type="button" class="btn btn-primary" onclick="validateThreeDInput(); process3D()">Process</button>
                                                </div>
                                            </div>
                                            <!-- /.modal-content -->
                                        </div>
                                        <!-- /.modal-dialog -->
                                    </div>
                                    <!-- /.modal -->
                                </div>
                            </div>
                            <div id="visualization" class="tab-pane">
                                <div class="row" style="background-color:#C8EDFF">
                                    <div class="col-xs-2 col-md-offset-3">
                                        <button type="button" title="Grid Map Overlay" class="icon_button" data-target="#graph">
                                        <a href="#" title="Visual Data"><img src="../img/filter.png" class="icons"></a>
                                        </button>
                                    </div>
                                    <div class="col-xs-2">
                                        <button type="button" title="2D Heatmap" class="icon_button" data-target="#2dVisual" onClick="load2dVisual();">
                                        <a href="#" title="2 Dimensional Visual"><img src="../img/2d.png" class="icons"></a>
                                        </button>
                                    </div>
                                    <div class="col-xs-2">
                                        <button type="button" title="3D Heatmap" class="icon_button" data-target="#3dVisual">
                                        <a href="#" title="3 Dimensional Visual" onClick="visualize3D();"><img src="../img/3d.png" class="icons"></a>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </ul>
                </div>
                <div class="row">
                    <div class="col-md-12" style="margin-top: .5%; margin-left:.5%">
                        <div class="panel panel-danger">
                            <div class="panel-heading" style="background-color: #666">
                                <p style="color: white">Analyst Dashboard</p>
                            </div>
                            <div class="panel-body" id="visualizationPanel">
                                <!-- heatmap -->
                                <div role="heatmap" id="heatmap">
                                    <svg id="svgHeatmap" width='100%' height='400px'></svg>
                                </div>
                                <div id="container"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xs-3">
                <div class="row">
                    <div class="col-xs-12" style="margin-left: -15px; width: 103%">
                        <div class="panel panel-info" style="">
                            <div class="panel-heading">
                                History
                            </div>
                            <!-- /.panel-heading -->
                            <div class="panel-body" id="historyPanel">
                                <div role="history" id="history">
                                    <svg id="svgHistory" width='100%' height='550px'></svg>
                                <div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </body>
</html>


<!-- Cube controller algorithms -->
<script src="../voxel/vendor/detector.js"></script>
<script src="../voxel/vendor/dragPanControls.js"></script>
<script src="../voxel/vendor/fullScreen.js"></script>
<script src="../voxel/vendor/screenshot.js"></script>
<script src="../voxel/vendor/stats.js"></script>
<script src="../voxel/vendor/testData.js"></script>
<script src="../voxel/vendor/three.js"></script>
<script src="../voxel/vendor/windowResize.js"></script>

<!-- Mesh algorithms -->
<script src="../voxel/meshers/culled.js"></script>
<script src="../voxel/meshers/greedy.js"></script>
<script src="../voxel/meshers/monotone.js"></script>
<script src="../voxel/meshers/stupid.js"></script>
